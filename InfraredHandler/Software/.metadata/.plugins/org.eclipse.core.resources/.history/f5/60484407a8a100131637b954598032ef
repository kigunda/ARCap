/*
 * CommandTasks.cpp
 *
 *  Created on: 2014-03-01
 *      Author: Kenan Kigunda
 */

#include "CommandTasks.h"

extern CommandHandler *command;

/* Monitors the infrared receive queue and responds to infrared receive events. */
void command_check_infrared_task(void* pdata) {
	while (true) {
		command->checkInfraredReceive();
	}
}

/* Sets up the task that monitors the infrared receive queue and responds to infrared receive events. */
void register_command_check_infrared_task() {
	OSTaskCreateExt(command_check_infrared_task,
			NULL,
			&command_check_infrared_task_stk[TASK_STACKSIZE-1],
			COMMAND_CHECK_INFRARED_TASK_PRIORITY,
			COMMAND_CHECK_INFRARED_TASK_PRIORITY,
			command_check_infrared_task_stk,
			TASK_STACKSIZE,
			NULL,
			0);
}


