/*
 * Listener.cpp
 *
 *  Created on: 2014-03-03
 *      Author: Kenan Kigunda
 */

#include <stdlib.h>
#include "Listener.h"

// ALLOCATION

/**
 * Creates a new listener.
 */
Listener::Listener() {}
Listener::~Listener() {}

// INITIALIZATION

/*
 * Initializes this bridge.
 * @return OK if there are no initialization errors
 */
Status Listener::init() {
	/* Create the infrared receive queue. */
	receiveQueue = OSQCreate((void**)&receiveBuffer, BRIDGE_RECEIVE_QUEUE_SIZE);
	if (receiveQueue == NULL) {
		return ERR_BRIDGE_CREATE;
	} else {
		return OK;
	}
}

// LISTENERS

/*
 * Gets the queue used to accept infrared receive events.
 * @return the infrared receive queue
 */
OS_EVENT *Listener::listener() {
	return receiveQueue;
}
