/*
 * NetworkSender.cpp
 *
 *  Created on: 2014-03-25
 *      Author: Kenan Kigunda
 */

#include "NetworkSender.h"

// TASKS

/* Waits for infrared send commands and executes them as they arrive. */
void infrared_sender_update_task(void *pdata) {
	printf("InfraredSender [task: update, status: start]\n");
	while (true) {
		infraredSender->update();
	}
}

// CONSTRUCTION

/**
 * Creates a new network sender.
 * @param wifi - the wifi handler to use to send messages to the server
 */
NetworkSender::NetworkSender(WifiHandler *wifiHandler) {
	wifi = wifiHandler;
}

// COMMANDS

/**
 * Forwards the given network command to the server.
 * @param command the command to forward
 */
void NetworkSender::parse(char *command) {
	wifi->tcpSend(command);
	wifi->tcpSend("\n");
}
