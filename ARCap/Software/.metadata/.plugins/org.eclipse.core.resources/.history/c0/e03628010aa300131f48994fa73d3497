/*
 * NetworkHandler.h
 *
 *  Created on: 2014-03-03
 *      Author: kigunda
 */

#ifndef NETWORKHANDLER_H_
#define NETWORKHANDLER_H_

using namespace std;
#include <string>

enum NetworkTarget {
	NETWORK_INFRARED,
	NETWORK_MOTOR,
};

class NetworkHandler {
public:
	NetworkHandler();
	virtual ~NetworkHandler();

	/*
	 * Initializes this handler.
	 * @return OK if there are no initialization errors
	 */
	Status init();

	/*
	 * Updates this handler.
	 * @return OK if the infrared readings are valid and have been posted to all listeners without error
	 */
	Status update();

	/*
	 * Sends a message to the given network target.
	 * @param target - the target to which the message will be send
	 * @param parameters - the parameters to send, in the format param1=value1&param2=value2&...
	 */
	Status send(NetworkTarget target, string parameters);
};

#endif /* NETWORKHANDLER_H_ */
